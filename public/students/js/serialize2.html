<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Java Serialization Tutorial – Coder &amp; AccoTax</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Detailed tutorial on Serialization in Java, including how to write and read objects from files using ObjectOutputStream and ObjectInputStream." />

    <style>
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            margin: 0;
            padding: 0;
            line-height: 1.6;
            background: #0f172a;
            color: #e5e7eb;
        }

        header {
            background: linear-gradient(135deg, #1d4ed8, #9333ea);
            color: #f9fafb;
            padding: 20px 30px;
            text-align: center;
        }

        header h1 {
            margin: 0;
            font-size: 2rem;
        }

        header p {
            margin: 5px 0 0;
            font-size: 0.95rem;
            opacity: 0.9;
        }

        .org-info {
            font-size: 0.9rem;
            margin-top: 8px;
        }

        main {
            max-width: 1000px;
            margin: 20px auto 40px;
            padding: 0 15px;
        }

        .card {
            background: rgba(15, 23, 42, 0.9);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(148, 163, 184, 0.3);
            box-shadow: 0 10px 25px rgba(15, 23, 42, 0.7);
        }

        h2 {
            color: #bfdbfe;
            margin-top: 0;
            border-bottom: 1px solid rgba(148, 163, 184, 0.4);
            padding-bottom: 5px;
            font-size: 1.4rem;
        }

        h3 {
            color: #93c5fd;
            margin-top: 18px;
            font-size: 1.1rem;
        }

        p {
            font-size: 0.98rem;
            color: #e5e7eb;
        }

        ul, ol {
            padding-left: 20px;
        }

        li {
            margin-bottom: 4px;
        }

        code {
            font-family: "Fira Code", "Consolas", "Courier New", monospace;
            background: #020617;
            padding: 2px 4px;
            border-radius: 4px;
            font-size: 0.9rem;
        }

        pre {
            background: #020617;
            padding: 12px;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.9rem;
            border: 1px solid rgba(30, 64, 175, 0.6);
        }

        pre code {
            background: transparent;
            padding: 0;
        }

        .note {
            border-left: 4px solid #22c55e;
            padding-left: 10px;
            margin: 10px 0;
            font-size: 0.9rem;
            color: #bbf7d0;
        }

        .warning {
            border-left: 4px solid #f97316;
            padding-left: 10px;
            margin: 10px 0;
            font-size: 0.9rem;
            color: #fed7aa;
        }

        .tag {
            display: inline-block;
            background: rgba(37, 99, 235, 0.15);
            border: 1px solid rgba(59, 130, 246, 0.5);
            color: #bfdbfe;
            padding: 2px 8px;
            border-radius: 999px;
            font-size: 0.8rem;
            margin-right: 4px;
        }

        .toc {
            background: rgba(15, 23, 42, 0.9);
            border-radius: 10px;
            padding: 15px 18px;
            margin-bottom: 20px;
            border: 1px dashed rgba(148, 163, 184, 0.6);
            font-size: 0.9rem;
        }

        .toc a {
            color: #93c5fd;
            text-decoration: none;
        }

        .toc a:hover {
            text-decoration: underline;
        }

        .badge-level {
            font-size: 0.8rem;
            background: rgba(34, 197, 94, 0.15);
            border-radius: 999px;
            padding: 3px 8px;
            border: 1px solid rgba(34, 197, 94, 0.4);
            color: #bbf7d0;
            margin-left: 8px;
        }

        .two-column {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 15px;
        }

        footer {
            background: #020617;
            color: #9ca3af;
            text-align: center;
            padding: 15px;
            font-size: 0.85rem;
            border-top: 1px solid rgba(55, 65, 81, 0.6);
        }

        footer a {
            color: #93c5fd;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        .highlight {
            color: #fbbf24;
            font-weight: 600;
        }

        .qa {
            margin: 8px 0;
        }

        .qa-q {
            font-weight: 600;
            color: #bfdbfe;
        }

        .qa-a {
            margin-left: 10px;
        }

        @media (max-width: 600px) {
            header h1 {
                font-size: 1.5rem;
            }

            pre {
                font-size: 0.82rem;
            }
        }
    </style>
</head>
<body>
<header>
    <h1>Java Serialization &amp; File Handling</h1>
    <p>Storing and Retrieving Objects using Serialization</p>
    <p class="org-info">
        Organisation: <strong>Coder &amp; AccoTax</strong> &nbsp;|&nbsp;
        Author: <strong>Sukanta Hui</strong> &nbsp;|&nbsp;
        Ph: <strong>7003756860</strong> &nbsp;|&nbsp;
        Website: <a href="https://www.codernaccotax.co.in" target="_blank" style="color:#bfdbfe;">www.codernaccotax.co.in</a>
    </p>
</header>

<main>
    <!-- Table of Contents -->
    <section class="toc">
        <strong>Contents:</strong>
        <ol>
            <li><a href="#intro">Introduction: Why Serialization?</a></li>
            <li><a href="#concept">Basic Concepts: Serialization &amp; Deserialization</a></li>
            <li><a href="#requirements">Requirements for Serialization in Java</a></li>
            <li><a href="#person-class">Creating a Serializable Class (Person)</a></li>
            <li><a href="#write-object">Writing an Object to a File (Serialization)</a></li>
            <li><a href="#read-object">Reading an Object from a File (Deserialization)</a></li>
            <li><a href="#serialversionuid">Understanding <code>serialVersionUID</code></a></li>
            <li><a href="#transient">The <code>transient</code> Keyword</a></li>
            <li><a href="#flow">Step-by-Step Flow Summary</a></li>
            <li><a href="#errors">Common Errors &amp; Tips</a></li>
            <li><a href="#practice">Practice Questions &amp; Exercises</a></li>
        </ol>
    </section>

    <!-- 1. Introduction -->
    <section id="intro" class="card">
        <h2>1. Introduction: Why Serialization?<span class="badge-level">Class 11–12 Friendly</span></h2>
        <p>
            In normal Java programs, objects live only in <span class="highlight">RAM (memory)</span> while the program is running.
            As soon as the program stops, all objects are lost.
        </p>
        <p>
            But sometimes we want to:
        </p>
        <ul>
            <li>Save an object's data permanently in a file.</li>
            <li>Send an object over a network (e.g., in client-server applications).</li>
            <li>Store user profiles, game state, or settings for later use.</li>
        </ul>
        <p>
            For this, Java provides a powerful feature called <strong>Serialization</strong>,
            which allows us to convert an object into a <strong>binary stream</strong> and store it in a file.
        </p>
    </section>

    <!-- 2. Basic Concepts -->
    <section id="concept" class="card">
        <h2>2. Basic Concepts: Serialization &amp; Deserialization</h2>

        <h3>2.1 What is Serialization?</h3>
        <p>
            <strong>Serialization</strong> is the process of converting a Java object into a
            <span class="highlight">byte stream</span> (series of 0s and 1s) so it can be:
        </p>
        <ul>
            <li>Saved to a file (e.g., <code>person.dat</code>).</li>
            <li>Transferred over a network.</li>
            <li>Stored in a database as a blob.</li>
        </ul>

        <h3>2.2 What is Deserialization?</h3>
        <p>
            <strong>Deserialization</strong> is the reverse process:
            Java reads the byte stream from a file or network and
            <span class="highlight">reconstructs the original object</span>.
        </p>

        <div class="two-column">
            <div>
                <h3>Serialization (Write)</h3>
                <p><strong>Object</strong> → <strong>Byte Stream</strong> → <strong>File</strong></p>
                <p class="note">
                    Example: You fill a form (object), and the system saves it into a file.
                </p>
            </div>
            <div>
                <h3>Deserialization (Read)</h3>
                <p><strong>File</strong> → <strong>Byte Stream</strong> → <strong>Object</strong></p>
                <p class="note">
                    Example: Next time you open the app, your saved data is loaded back as objects.
                </p>
            </div>
        </div>
    </section>

    <!-- 3. Requirements -->
    <section id="requirements" class="card">
        <h2>3. Requirements for Serialization in Java</h2>

        <h3>3.1 Implement the <code>Serializable</code> Interface</h3>
        <p>
            Any class whose objects you want to serialize must
            <span class="highlight">implement the interface</span> <code>java.io.Serializable</code>.
        </p>
        <pre><code class="language-java">import java.io.Serializable;

public class Person implements Serializable {
    // fields and methods
}</code></pre>

        <p>
            <code>Serializable</code> is a <strong>marker interface</strong>:
        </p>
        <ul>
            <li>It has <strong>no methods</strong> to implement.</li>
            <li>It simply "marks" the class as allowed to be serialized.</li>
        </ul>

        <h3>3.2 Use <code>ObjectOutputStream</code> and <code>ObjectInputStream</code></h3>
        <ul>
            <li><code>ObjectOutputStream</code> – used to write (serialize) an object to a file.</li>
            <li><code>ObjectInputStream</code> – used to read (deserialize) an object from a file.</li>
        </ul>

        <h3>3.3 Recommended: Define <code>serialVersionUID</code></h3>
        <p>
            For safer version control of serialized classes, we usually define:
        </p>
        <pre><code class="language-java">private static final long serialVersionUID = 1L;</code></pre>
        <p>
            Details are explained in Section 7.
        </p>
    </section>

    <!-- 4. Serializable Person class -->
    <section id="person-class" class="card">
        <h2>4. Creating a Serializable Class: <code>Person</code></h2>
        <p>We will create a simple <code>Person</code> class and then store its object in a file.</p>

        <pre><code class="language-java">import java.io.Serializable;

public class Person implements Serializable {
    // Recommended: Explicit serialVersionUID
    private static final long serialVersionUID = 1L;

    // Data members (fields)
    String name;
    int age;
    String email;

    // Constructor
    public Person(String name, int age, String email) {
        this.name  = name;
        this.age   = age;
        this.email = email;
    }
}</code></pre>

        <p>
            Here:
        </p>
        <ul>
            <li><code>Person</code> implements <code>Serializable</code> → it can be serialized.</li>
            <li>Fields: <code>name</code>, <code>age</code>, <code>email</code>.</li>
            <li><code>serialVersionUID</code> is set to <code>1L</code>, meaning version 1 of this class.</li>
        </ul>
    </section>

    <!-- 5. Write Object -->
    <section id="write-object" class="card">
        <h2>5. Writing an Object to a File (Serialization)</h2>
        <span class="tag">File Handling</span>
        <span class="tag">ObjectOutputStream</span>

        <p>
            Now we will create a class <code>WriteObject</code> that creates a <code>Person</code>
            object and writes it to a file named <code>person.dat</code>.
        </p>

        <h3>5.1 Program: <code>WriteObject.java</code></h3>
        <pre><code class="language-java">import java.io.FileOutputStream;
import java.io.ObjectOutputStream;
import java.io.IOException;

public class WriteObject {
    public static void main(String[] args) {
        // Step 1: Create an object to serialize
        Person p = new Person("Sukanta", 25, "sukanta@example.com");

        // Step 2: Serialize (write) object to a file
        try {
            // Create a file output stream
            FileOutputStream fos = new FileOutputStream("person.dat");

            // Wrap it inside ObjectOutputStream
            ObjectOutputStream oos = new ObjectOutputStream(fos);

            // Step 3: Write (serialize) the object
            oos.writeObject(p);

            // Step 4: Close the streams
            oos.close();
            fos.close();

            System.out.println("Object successfully written to file: person.dat");
        } catch (IOException e) {
            System.out.println("Error while writing object: " + e.getMessage());
        }
    }
}</code></pre>

        <h3>5.2 Explanation (Line by Line)</h3>
        <ul>
            <li><code>FileOutputStream fos = new FileOutputStream("person.dat");</code><br />
                Opens/creates a binary file named <code>person.dat</code> for writing.
            </li>
            <li><code>ObjectOutputStream oos = new ObjectOutputStream(fos);</code><br />
                Wraps the file stream with an <code>ObjectOutputStream</code> so that
                we can write objects (not just bytes).
            </li>
            <li><code>oos.writeObject(p);</code><br />
                Converts the object <code>p</code> into a byte stream and writes it to the file.
            </li>
            <li><code>oos.close(); fos.close();</code><br />
                Properly closes the streams and releases resources.
            </li>
        </ul>

        <p class="note">
            After running this program, you will see a file named <code>person.dat</code>
            in your project folder. It is a <strong>binary</strong> file, so you cannot
            read it directly like a text file.
        </p>
    </section>

    <!-- 6. Read Object -->
    <section id="read-object" class="card">
        <h2>6. Reading an Object from a File (Deserialization)</h2>
        <span class="tag">File Handling</span>
        <span class="tag">ObjectInputStream</span>

        <p>
            Next, we read back the stored object from <code>person.dat</code>. This will recreate
            the original <code>Person</code> object in memory.
        </p>

        <h3>6.1 Program: <code>ReadObject.java</code></h3>
        <pre><code class="language-java">import java.io.FileInputStream;
import java.io.ObjectInputStream;
import java.io.IOException;

public class ReadObject {
    public static void main(String[] args) {
        try {
            // Step 1: Open the file that contains the object
            FileInputStream fis = new FileInputStream("person.dat");

            // Step 2: Wrap it inside ObjectInputStream
            ObjectInputStream ois = new ObjectInputStream(fis);

            // Step 3: Read (deserialize) the object
            Person p = (Person) ois.readObject();

            // Step 4: Close the streams
            ois.close();
            fis.close();

            // Step 5: Use the object
            System.out.println("Object read from file:");
            System.out.println("Name  : " + p.name);
            System.out.println("Age   : " + p.age);
            System.out.println("Email : " + p.email);
        } catch (IOException e) {
            System.out.println("Error while reading object: " + e.getMessage());
        } catch (ClassNotFoundException e) {
            System.out.println("Class not found: " + e.getMessage());
        }
    }
}</code></pre>

        <h3>6.2 Expected Output</h3>
        <pre><code>Object read from file:
Name  : Sukanta
Age   : 25
Email : sukanta@example.com</code></pre>

        <p class="note">
            This shows that the object was successfully restored from the binary file.
        </p>
    </section>

    <!-- 7. serialVersionUID -->
    <section id="serialversionuid" class="card">
        <h2>7. Understanding <code>serialVersionUID</code></h2>
        <p>
            Every serializable class has a unique ID called <code>serialVersionUID</code>.
            It is used to ensure that during deserialization, the class used to read the object
            is compatible with the class that was used to write it.
        </p>

        <h3>7.1 Why Do We Need It?</h3>
        <ul>
            <li>Suppose you serialize an object using one version of the <code>Person</code> class.</li>
            <li>Later, you modify the class (add/remove fields) and then try to read old objects.</li>
            <li>If the versions are incompatible, Java throws <code>InvalidClassException</code>.</li>
        </ul>

        <p>To control the version, we define:</p>
        <pre><code class="language-java">private static final long serialVersionUID = 1L;</code></pre>

        <p>
            If you don't define it, Java will automatically generate one at runtime
            (based on class details). But if the class changes, the auto-generated ID also changes,
            causing problems while deserializing old data.
        </p>

        <div class="warning">
            <strong>Important:</strong> For real applications, always explicitly define
            <code>serialVersionUID</code> when using built-in Java serialization.
        </div>
    </section>

    <!-- 8. transient -->
    <section id="transient" class="card">
        <h2>8. The <code>transient</code> Keyword</h2>
        <p>
            Sometimes we do <strong>not</strong> want to save a particular field when serializing.
            For example, a password or temporary value.
        </p>
        <p>
            We can mark such fields as <code>transient</code>.
        </p>

        <pre><code class="language-java">import java.io.Serializable;

public class User implements Serializable {
    private static final long serialVersionUID = 1L;

    String username;
    transient String password;  // This will NOT be serialized

    public User(String username, String password) {
        this.username = username;
        this.password = password;
    }
}</code></pre>

        <p class="note">
            When this <code>User</code> object is deserialized, <code>password</code> will be <code>null</code>
            (or default value) because it was not saved to the file.
        </p>
    </section>

    <!-- 9. Flow Summary -->
    <section id="flow" class="card">
        <h2>9. Serialization Flow: Step-by-Step Summary</h2>

        <h3>9.1 Serialization (Writing Object)</h3>
        <ol>
            <li>Create a class that implements <code>Serializable</code>.</li>
            <li>Create an object of that class.</li>
            <li>Create a <code>FileOutputStream</code> for the target file.</li>
            <li>Wrap it with <code>ObjectOutputStream</code>.</li>
            <li>Call <code>writeObject(object)</code>.</li>
            <li>Close the streams.</li>
        </ol>

        <h3>9.2 Deserialization (Reading Object)</h3>
        <ol>
            <li>Create a <code>FileInputStream</code> for the source file.</li>
            <li>Wrap it with <code>ObjectInputStream</code>.</li>
            <li>Call <code>readObject()</code> and cast it to the correct class.</li>
            <li>Use the object normally.</li>
            <li>Close the streams.</li>
        </ol>

        <p class="note">
            For Class 11/12-level exams, you should be able to:
            <strong>define serialization, explain its use, and write simple programs</strong>
            like the ones shown above.
        </p>
    </section>

    <!-- 10. Common Errors -->
    <section id="errors" class="card">
        <h2>10. Common Errors &amp; Tips</h2>

        <div class="qa">
            <div class="qa-q">Q1. <code>NotSerializableException</code></div>
            <div class="qa-a">
                <strong>Cause:</strong> The class does not implement <code>Serializable</code>.<br />
                <strong>Fix:</strong> Add <code>implements Serializable</code> to the class.
            </div>
        </div>

        <div class="qa">
            <div class="qa-q">Q2. <code>InvalidClassException</code></div>
            <div class="qa-a">
                <strong>Cause:</strong> Mismatch in <code>serialVersionUID</code> between
                the class used to write and the class used to read.<br />
                <strong>Fix:</strong> Define a fixed <code>serialVersionUID</code> and
                maintain compatibility.
            </div>
        </div>

        <div class="qa">
            <div class="qa-q">Q3. File Not Found</div>
            <div class="qa-a">
                Make sure the file path is correct and the file exists in the project folder
                when deserializing.
            </div>
        </div>

        <p class="note">
            Tip: Always close your streams in a <code>finally</code> block or use
            try-with-resources (for advanced level).
        </p>
    </section>

    <!-- 11. Practice -->
    <section id="practice" class="card">
        <h2>11. Practice Questions &amp; Exercises</h2>

        <h3>11.1 Short Questions</h3>
        <ol>
            <li>Define <strong>serialization</strong> and <strong>deserialization</strong> in Java.</li>
            <li>Why is the <code>Serializable</code> interface called a <em>marker interface</em>?</li>
            <li>What is the purpose of <code>serialVersionUID</code>?</li>
            <li>What will happen if a class does not implement <code>Serializable</code> but we try to serialize its object?</li>
            <li>What is the use of the <code>transient</code> keyword?</li>
        </ol>

        <h3>11.2 Programming Exercises</h3>
        <ol>
            <li>
                Create a class <code>Student</code> with fields
                <code>roll</code>, <code>name</code>, and <code>marks</code>.  
                Make it serializable and write a program to save a <code>Student</code>
                object to a file and read it back.
            </li>
            <li>
                Modify the <code>Person</code> class to include an extra field
                <code>String phone</code>.  
                Observe what happens when you try to deserialize an old file created
                without this field.
            </li>
            <li>
                Create a class <code>Account</code> where <code>balance</code> is <code>transient</code>.
                Serialize and deserialize the object and check the value of <code>balance</code>.
            </li>
        </ol>
    </section>
</main>

<footer>
    <div>© <span id="year"></span> Coder &amp; AccoTax. All rights reserved.</div>
    <div>Author: <strong>Sukanta Hui</strong> | Ph: 7003756860 | Website: <a href="https://www.codernaccotax.co.in" target="_blank">www.codernaccotax.co.in</a></div>
</footer>

<script>
    // Set current year in footer
    document.getElementById("year").textContent = new Date().getFullYear();
</script>
</body>
</html>
